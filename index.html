<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no" />
  <title>Shared Life</title>
  
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  
  <div id="toastContainer" class="toast-container"></div>

  <div id="authScreen" class="auth-screen">
    <div class="auth-card">
      <div class="auth-icon">❤️</div>
      <h1 class="auth-title">Shared Life</h1>
      <p class="auth-subtitle">Welcome home, you two.</p>

      <form id="loginForm" onsubmit="return false;">
        <div class="input-group">
          <input id="emailInput" type="email" placeholder="Email" autocomplete="username" required />
          <div class="separator"></div>
          <input id="passwordInput" type="password" placeholder="Password" autocomplete="current-password" required />
        </div>
        <button id="loginBtn" type="submit" class="btn primary large">Log In</button>
      </form>
    </div>
  </div>

  <div id="appContent" class="app-content hidden">
    
    <header class="header">
      <div class="header-left">
        <h1 class="header-title">Home</h1>
      </div>
      <div class="header-right">
        <button id="logoutBtn" class="btn-icon" title="Log out">
          <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9"/></svg>
        </button>
      </div>
    </header>

    <main class="main-scroll">
      
      <section id="tab-dashboard" class="tab-section active">
        
        <div class="ios-card hero-card">
          <div class="hero-content">
            <div class="hero-label">Time Together</div>
            <div id="daysCounter" class="hero-counter">Loading...</div>
            <div class="hero-sub">Since May 9, 2024</div>
          </div>
        </div>

        <div class="ios-list">
          <div class="list-item presence-item">
            <div class="presence-info">
              <span class="avatar-circle">B</span>
              <span class="list-text">Brayden</span>
            </div>
            <span class="status-indicator" id="braydenStatus">Offline</span>
          </div>
          <div class="separator"></div>
          <div class="list-item presence-item">
            <div class="presence-info">
              <span class="avatar-circle">Y</span>
              <span class="list-text">Youna</span>
            </div>
            <span class="status-indicator" id="younaStatus">Offline</span>
          </div>
        </div>

        <h3 class="list-header">Savings Goal</h3>
        <div class="ios-card padding-md">
          <div class="savings-header">
            <span class="savings-current" id="savingsAmount">$0</span>
            <span class="savings-target" id="savingsTarget">of $10k</span>
          </div>
          <div class="progress-track" id="savingsProgressBar">
            <div class="progress-fill" id="savingsProgressFill"></div>
          </div>
          <div class="savings-meta" id="savingsPercent">0%</div>
        </div>

        <h3 class="list-header">Latest Note</h3>
        <div class="ios-card padding-md" id="latestNoteCard">
          <p id="latestNoteText" class="note-preview">No notes yet.</p>
        </div>

        <h3 class="list-header">Upcoming</h3>
        <div class="ios-list" id="dashboardEventsList">
          <div class="list-item empty-state">No upcoming events</div>
        </div>
      </section>

      <section id="tab-schedule" class="tab-section hidden">
        <div class="ios-card padding-md calendar-wrapper">
          <div class="calendar-header">
            <button id="prevMonth" class="btn-text">Prev</button>
            <span id="monthYear" class="cal-title">Month 2025</span>
            <button id="nextMonth" class="btn-text">Next</button>
          </div>
          <div class="calendar-weekdays">
            <span>S</span><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span>
          </div>
          <div id="calendarGrid" class="calendar-grid"></div>
        </div>

        <div class="action-row">
          <h3 class="list-header">Events</h3>
          <button id="addEventBtn" class="btn-pill-small">+ New</button>
        </div>

        <div id="eventForm" class="ios-card padding-md form-card hidden">
          <input id="eventTitle" class="simple-input" placeholder="Event Title" />
          <input id="eventDate" type="date" class="simple-input" />
          <div class="form-actions">
            <button id="cancelEvent" class="btn-text destructive">Cancel</button>
            <button id="saveEvent" class="btn-text primary">Save</button>
          </div>
        </div>

        <div class="ios-list" id="eventsListFull"></div>
      </section>

      <section id="tab-media" class="tab-section hidden">
        
        <div class="segment-control">
          <button class="segment active" data-media-type="notes">Notes</button>
          <button class="segment" data-media-type="photos">Photos</button>
          <button class="segment" data-media-type="videos">Videos</button>
          <button class="segment" data-media-type="music">Music</button>
        </div>

        <div id="view-notes" class="media-view">
          <div class="input-bar">
            <input id="noteInput" class="pill-input" placeholder="Type a note..." />
            <button id="sendNoteBtn" class="btn-circle">↑</button>
          </div>
          <div id="notesList" class="notes-feed"></div>
        </div>

        <div id="view-photos" class="media-view hidden">
          <input type="file" id="photoFileInput" accept="image/*" hidden />
          
          <div class="upload-card" id="triggerPhotoUpload">
            <div class="upload-icon box-blue">
              <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"/></svg>
            </div>
            <div class="upload-info">
              <span class="upload-title">Upload Photo</span>
              <span class="upload-desc">Select from device gallery</span>
            </div>
          </div>

          <div id="photosGrid" class="ios-grid"></div>
        </div>

        <div id="view-videos" class="media-view hidden">
          <input type="file" id="videoFileInput" accept="video/*" hidden />
          
          <div class="upload-card" id="triggerVideoUpload">
            <div class="upload-icon box-red">
              <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M23 7l-7 5 7 5V7z"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg>
            </div>
            <div class="upload-info">
              <span class="upload-title">Upload Video</span>
              <span class="upload-desc">Select from device gallery</span>
            </div>
          </div>

          <div id="videosGrid" class="video-feed"></div>
        </div>

        <div id="view-music" class="media-view hidden">
          <div class="input-bar">
            <input id="musicInput" class="pill-input" placeholder="Search Song or Artist..." />
            <button id="addMusicBtn" class="btn-circle">
              <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
            </button>
          </div>
          
          <div id="musicSearchResults" class="ios-list hidden" style="margin-bottom: 20px; border: 2px solid var(--color-blue);"></div>

          <div id="musicList" class="ios-list"></div>
        </div>
      </section>

      <section id="tab-map" class="tab-section hidden">
        <div class="ios-card padding-0 map-card">
          <div id="map"></div>
        </div>

        <h3 class="list-header">Timeline History</h3>
        <div class="ios-list" id="timelineList">
          </div>
      </section>

      <div class="tab-spacer"></div>
    </main>

    <nav class="tab-bar">
      <button class="tab-btn active" data-tab="dashboard">
        <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span>Home</span>
      </button>
      <button class="tab-btn" data-tab="schedule">
        <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        <span>Plan</span>
      </button>
      <button class="tab-btn" data-tab="media">
        <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
          <circle cx="8.5" cy="8.5" r="1.5"></circle>
          <polyline points="21 15 16 10 5 21"></polyline>
        </svg>
        <span>Media</span>
      </button>
      <button class="tab-btn" data-tab="map">
        <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon>
          <line x1="8" y1="2" x2="8" y2="18"></line>
          <line x1="16" y1="6" x2="16" y2="22"></line>
        </svg>
        <span>Map</span>
      </button>
    </nav>
  </div>

  <script type="module" src="script.js"></script>
</body>
</html>
